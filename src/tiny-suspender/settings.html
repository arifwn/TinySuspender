<!DOCTYPE html>
<html>
<head>
  <title>Tiny Suspender: Settings</title>
  <link rel="stylesheet" type="text/css" href="css/settings.css">
  <link rel="stylesheet" type="text/css" href="css/settings-dark.css">
</head>
<body>
  <div class="container">
    <div class="header">Tiny Suspender <span id="version_string"></span></div>
    <form id="config">

      <div class="fieldset">
        <label>Automatically suspend backgroud tabs after (minutes):</label>
        <input type="number" value="" min="0" name="idle_time">
        <small>Set to 0 to disable automatic suspend.</small>
      </div>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="autorestore" value="enabled"> Automatically restore tab when brought to foreground</label>
      </div>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="skip_audible" value="enabled"> Don't automatically suspend audible tabs</label>
      </div>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="skip_pinned" value="enabled"> Don't automatically suspend pinned tabs</label>
      </div>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="skip_when_offline" value="enabled"> Don't automatically suspend tabs when offline</label>
      </div>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="dark_mode" value="disabled"> Toggle Dark Mode</label>
      </div>


        <div class="fieldset">
        <label>Whitelist:</label>
        <textarea name="whitelist" placeholder="/google/"></textarea>
        <small>
          Enter a list of urls that should be whitelisted. Prefix match will be used to match url with whitelist entries (e.g. https://google.com/ will also match https://google.com/maps). <br>
          Regex can be specified by wrapping the rule in forward slashes (e.g. /google/).
        </small>
      </div>

      <button type="submit">Save</button>
      <small id="message"></small>

      <a class="shortcuts" href="chrome://extensions/configureCommands">Configure Shortcuts</a>

      <div class="separator"></div>

      <h2>Advanced Option</h2>

      <div class="fieldset checkbox">
        <label><input type="checkbox" name="enable_tab_discard" value="enabled"> Use Native Tab Discard API</label>
        <div class="infobox">
          <p>Since Chrome v54, Chrome includes a native tab discarding functionality. Enabling this option will make Tiny Suspender uses Chrome native tab discarding instead of its own tab suspension procedure. <strong>Please be aware of the benefits and limitations before activating this feature:</strong></p>

          <p>Benefits:</p>
          <ul>
            <li>Native tab discard could potentially reclaims higher amount of memory compared to Tiny Suspender's own tab suspension procedure.</li>
            <li>Tab state may be preserved. Your scrolling position, filled form, etc. won't be lost when the tab restored. Although some users report issues under specific circumstances, it seems to works ok for typical usage.</li>
            <li>Uninstalling this extension will not close currently suspended tabs.</li>
            <li>Ability to mass-bookmark suspended tabs with correct URLs.</li>
          </ul>

          <p>Limitations:</p>
          <ul>
            <li>You will not be able to suspend currently active tab. Only background tabs are suspendable.</li>
            <li>When using the native tab discarding functionality, tab restore process can only be initiated by manually bringing the suspended tab into foreground.</li>
            <ul>
              <li>This means the <em>"Automatically restore tab when brought to foreground"</em> option is always enabled even if you disabled it.</li>
              <li>Also the <em>"Restore All Suspended Tabs"</em> function will not be available.</li>
            </ul>
          </ul>
        </div>
      </div>


      <button type="submit">Save</button>
      <small id="message2"></small>


      <div class="separator"></div>

      <h2>Uninstalling Extension</h2>
      <p>Warning: uninstalling this extension will close ALL currently suspended tabs, unless Native Tab Discard API is enabled. Make sure to restore all suspended tabs before uninstalling this extension.</p>

      <div class="separator"></div>

      <h2>Enabling the "Allow in incognito" Option</h2>
      <p>This extension works in incognito mode. But before you enable the "Allow in incognito" option in Chrome's extension settings page, please be aware that Chrome will restart the extension process if you change this option and you might lose your suspended tabs. Please make sure to restore all suspended tabs before enabling this option.</p>

      <div class="separator"></div>

      <h2>Contributors</h2>
      <ul>
        <li><a href="https://github.com/arifwn">Arif Widi Nugroho</a></li>
        <li><a href="https://github.com/kingdevil731">Ruben Folhento</a></li>
        <li><a href="https://github.com/abdusco">Abdussamet Ko√ßak</a></li>
        <li><a href="https://github.com/Cyenia">Cyenia</a></li>
        <li><a href="https://github.com/dsouravcom">Sourav Dutta</a></li>
      </ul>
    </form>
  </div>
  <script type="text/javascript" src="js/settings.js"></script>
</body>
</html>
